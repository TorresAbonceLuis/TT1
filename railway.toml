[build]
builder = "NIXPACKS"
# 1. CLAVE: Le decimos a Nixpacks que la raíz del proyecto es la carpeta 'Backend'.
# Esto hará que Nixpacks encuentre tu 'requeriment.txt' y 'main.py' allí.
baseDirectory = "Backend" 

[deploy]
# 2. CLAVE: El startCommand ya NO necesita 'cd Backend' porque la baseDirectory lo maneja.
# Ejecutamos uvicorn directamente.
startCommand = "uvicorn main:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[nixpacks]
# 3. CLAVE: Especificamos la versión de Python que debe usarse.
nixpkgs = ["python39"]