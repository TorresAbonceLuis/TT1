[build]
builder = "NIXPACKS"
# ¡NUEVA LÍNEA CLAVE! Indica a Nixpacks que la aplicación está en esta subcarpeta.
baseDirectory = "Backend"

[deploy]
# El startCommand ya NO necesita el 'cd Backend' porque la baseDirectory ya apunta allí.
# ASUMIMOS que tu 'main.py' está directamente dentro de 'Backend'.
startCommand = "uvicorn main:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[nixpacks]
# Forzamos la versión de Python.
nixpkgs = ["python39"]